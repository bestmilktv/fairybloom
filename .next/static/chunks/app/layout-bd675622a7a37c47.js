(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{1100:function(e,t,n){Promise.resolve().then(n.bind(n,7569)),Promise.resolve().then(n.t.bind(n,1371,23)),Promise.resolve().then(n.t.bind(n,2853,23))},7569:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Navbar}});var r=n(7437),a=n(2265),i=n(1396),s=n.n(i),c=n(7972),o=n(3611),l=n(2601);function AccountIcon(e){let{className:t=""}=e;return(0,r.jsx)(o.z,{variant:"ghost",size:"icon",onClick:()=>{let e=l.env.NEXT_PUBLIC_SHOPIFY_STORE_DOMAIN||"fairy-bloom-cz.myshopify.com",t="https://".concat(e,"/account/login");window.open(t,"_blank")},className:"text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200 ".concat(t),"aria-label":"Account",children:(0,r.jsx)(c.Z,{className:"h-5 w-5"})})}var d=n(3505);function CartIcon(e){let{onClick:t,itemCount:n=0,className:a=""}=e;return(0,r.jsxs)(o.z,{variant:"ghost",size:"icon",onClick:t,className:"relative text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200 ".concat(a),"aria-label":"Shopping Cart",children:[(0,r.jsx)(d.Z,{className:"h-5 w-5"}),n>0&&(0,r.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:n})]})}var x=n(6691),u=n.n(x),m=n(2167),h=n(5251),f=n(2549),p=n(4891),g=n(9883),v=n(9135);function CartSidebar(e){let{isOpen:t,onClose:n,items:i,onUpdateQuantity:s,onRemoveItem:c}=e,[l,x]=(0,a.useState)(!1),b=i.reduce((e,t)=>e+t.quantity,0),y=i.reduce((e,t)=>e+t.price*t.quantity,0),handleCheckout=async()=>{if(0!==i.length){x(!0);try{let e=i.map(e=>({variantId:e.variantId,quantity:e.quantity})),t=await fetch("/api/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:e})});if(!t.ok)throw Error("Failed to create checkout");let{url:n}=await t.json();window.location.href=n}catch(e){console.error("Checkout error:",e),alert("Failed to proceed to checkout. Please try again.")}finally{x(!1)}}},formatPrice=e=>new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK"}).format(e);return(0,r.jsx)(m.M,{children:t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/30 backdrop-blur-md z-40",onClick:n}),(0,r.jsxs)(h.E.div,{variants:v.LX,initial:"initial",animate:"animate",exit:"exit",className:"fixed right-0 top-0 h-full w-full max-w-[420px] bg-surface shadow-2xl z-50 flex flex-col rounded-l-2xl",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold text-text",children:"Your Cart"}),(0,r.jsx)(o.z,{variant:"ghost",size:"icon",onClick:n,className:"text-muted hover:text-text hover:bg-surface rounded-xl",children:(0,r.jsx)(f.Z,{className:"h-5 w-5"})})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:0===i.length?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-6",children:[(0,r.jsx)("div",{className:"w-20 h-20 bg-muted/20 rounded-2xl flex items-center justify-center",children:(0,r.jsx)(d.Z,{className:"h-10 w-10 text-muted"})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"text-xl font-medium text-text",children:"Your cart is empty"}),(0,r.jsx)("p",{className:"text-muted",children:"Add some beautiful jewelry to get started"})]}),(0,r.jsx)(o.z,{onClick:n,className:"bg-accent hover:bg-accent/90 text-white px-6 py-3 rounded-xl",children:"Continue Shopping"})]}):(0,r.jsx)("div",{className:"space-y-4",children:i.map(e=>(0,r.jsx)("div",{className:"bg-bg rounded-2xl p-4 border border-border",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-surface rounded-xl flex-shrink-0 overflow-hidden",children:e.image?(0,r.jsx)(u(),{src:e.image,alt:e.name,width:64,height:64,className:"w-full h-full object-cover"}):(0,r.jsx)("div",{className:"w-full h-full bg-muted/20 rounded-xl flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-muted text-xs",children:"No image"})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0 space-y-1",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-text truncate",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-muted",children:[formatPrice(e.price)," each"]}),(0,r.jsx)("p",{className:"text-sm font-semibold text-text",children:formatPrice(e.price*e.quantity)})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.z,{variant:"ghost",size:"icon",onClick:()=>s(e.id,Math.max(0,e.quantity-1)),className:"h-8 w-8 text-muted hover:text-text hover:bg-surface rounded-lg",children:(0,r.jsx)(p.Z,{className:"h-3 w-3"})}),(0,r.jsx)("span",{className:"text-sm font-medium text-text min-w-[20px] text-center",children:e.quantity}),(0,r.jsx)(o.z,{variant:"ghost",size:"icon",onClick:()=>s(e.id,e.quantity+1),className:"h-8 w-8 text-muted hover:text-text hover:bg-surface rounded-lg",children:(0,r.jsx)(g.Z,{className:"h-3 w-3"})})]})]})},e.id))})}),i.length>0&&(0,r.jsxs)("div",{className:"border-t border-border p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center text-xl font-semibold",children:[(0,r.jsxs)("span",{className:"text-text",children:["Total (",b," items)"]}),(0,r.jsx)("span",{className:"text-text",children:formatPrice(y)})]}),(0,r.jsx)(o.z,{onClick:handleCheckout,disabled:l,className:"w-full bg-accent hover:bg-accent/90 text-white h-14 text-lg font-medium rounded-2xl shadow-soft",children:l?"Processing...":"Proceed to Checkout"})]})]})]})})}function Navbar(){let[e,t]=(0,a.useState)(!1),[n,i]=(0,a.useState)([{id:"1",variantId:"gid://shopify/ProductVariant/123456789",name:"Růžov\xe9 okvět\xed n\xe1hrdeln\xedk",price:2890,quantity:1,image:"/placeholder-necklace.jpg"},{id:"2",variantId:"gid://shopify/ProductVariant/987654321",name:"Pomněnkov\xe9 kapky n\xe1ušnice",price:1890,quantity:2,image:"/placeholder-earrings.jpg"}]),c=n.reduce((e,t)=>e+t.quantity,0);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("nav",{className:"bg-surface/80 backdrop-blur-md border-b border-border sticky top-0 z-30 transition-all duration-300",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-gap sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsxs)(s(),{href:"/",className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-accent rounded-lg flex items-center justify-center shadow-soft",children:(0,r.jsx)("span",{className:"text-white font-bold text-sm",children:"FB"})}),(0,r.jsx)("span",{className:"text-xl font-semibold text-text",children:"Fairy Bloom"})]}),(0,r.jsxs)("div",{className:"hidden md:flex items-center gap-8",children:[(0,r.jsx)(s(),{href:"/n\xe1hrdeln\xedky",className:"text-muted hover:text-text transition-colors duration-200",children:"N\xe1hrdeln\xedky"}),(0,r.jsx)(s(),{href:"/n\xe1ušnice",className:"text-muted hover:text-text transition-colors duration-200",children:"N\xe1ušnice"}),(0,r.jsx)(s(),{href:"/prsteny",className:"text-muted hover:text-text transition-colors duration-200",children:"Prsteny"}),(0,r.jsx)(s(),{href:"/n\xe1ramky",className:"text-muted hover:text-text transition-colors duration-200",children:"N\xe1ramky"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(AccountIcon,{}),(0,r.jsx)(CartIcon,{onClick:()=>t(!0),itemCount:c})]})]})})}),(0,r.jsx)(CartSidebar,{isOpen:e,onClose:()=>t(!1),items:n,onUpdateQuantity:(e,t)=>{t<=0?i(t=>t.filter(t=>t.id!==e)):i(n=>n.map(n=>n.id===e?{...n,quantity:t}:n))},onRemoveItem:e=>{i(t=>t.filter(t=>t.id!==e))}})]})}},3611:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var r=n(7437),a=n(2265),i=n(4949),s=n(6061),c=n(1628);let o=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef((e,t)=>{let{className:n,variant:a,size:s,asChild:l=!1,...d}=e,x=l?i.g7:"button";return(0,r.jsx)(x,{className:(0,c.cn)(o({variant:a,size:s,className:n})),ref:t,...d})});l.displayName="Button"},9135:function(e,t,n){"use strict";n.d(t,{Ji:function(){return r},LX:function(){return a}});let r={initial:{opacity:0},animate:{opacity:1,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,transition:{duration:.2,ease:"easeOut"}}},a={initial:{x:"100%"},animate:{x:0,transition:{type:"spring",damping:25,stiffness:200}},exit:{x:"100%",transition:{duration:.3,ease:"easeOut"}}}},1628:function(e,t,n){"use strict";n.d(t,{cn:function(){return cn}});var r=n(7042),a=n(4769);function cn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.m6)((0,r.W)(t))}},2853:function(){}},function(e){e.O(0,[735,736,971,472,744],function(){return e(e.s=1100)}),_N_E=e.O()}]);