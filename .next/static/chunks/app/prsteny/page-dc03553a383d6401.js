(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{4951:function(e,t,n){Promise.resolve().then(n.bind(n,4104))},4104:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return RingsPage}});var r=n(7437),a=n(6158),i=n(755),o=n(5373),s=n(2265),c=n(1396),d=n.n(c),l=n(3611);function RingsPage(){let[e,t]=(0,s.useState)([]),[n,c]=(0,s.useState)(null),[u,f]=(0,s.useState)(!0),{addToCart:h}=(0,o.useCart)();return(0,s.useEffect)(()=>{let fetchProducts=async()=>{try{let e=await (0,i.dm)("rings",20);t(e.products.edges.map(e=>e.node))}catch(e){console.log("Collection not found, trying all products...");try{let e=await (0,i.Xp)(50),n=e.edges.map(e=>e.node).filter(e=>e.title.toLowerCase().includes("prsten")||e.title.toLowerCase().includes("ring"));t(n)}catch(e){console.error("Failed to fetch products:",e),c(e instanceof Error?e.message:"Failed to fetch products")}}finally{f(!1)}};fetchProducts()},[]),(0,r.jsx)("div",{className:"min-h-screen bg-bg py-gap-3xl",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-gap-lg",children:[(0,r.jsxs)("div",{className:"text-center mb-gap-2xl",children:[(0,r.jsx)("h1",{className:"text-5xl md:text-6xl font-serif font-bold text-text mb-4",children:"Prsteny"}),(0,r.jsx)("p",{className:"text-xl text-text-secondary max-w-2xl mx-auto",children:"Jedinečn\xe9 prsteny pro v\xfdjimečn\xe9 okamžiky"})]}),u?(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-text-secondary",children:"Nač\xedt\xe1n\xed produktů..."})}):n?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-text-secondary mb-4",children:"Nepodařilo se nač\xedst produkty"}),(0,r.jsx)("p",{className:"text-sm text-text-muted",children:n})]}):0===e.length?(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-muted",children:"Ž\xe1dn\xe9 prsteny nebyly nalezeny"})}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(e=>{let t=(0,i.YS)(e);return(0,r.jsx)(a.Z,{id:e.id,title:e.title,price:(0,i.T4)(e.priceRange.minVariantPrice),image:(0,i.sg)(e)[0]||"/placeholder.svg",description:e.description||"Elegantn\xed prsten z naš\xed kolekce",href:"/product/".concat(e.handle),variantId:null==t?void 0:t.id,onAddToCart:(t,n)=>{h(t,n,{id:e.id,title:e.title,price:parseFloat(e.priceRange.minVariantPrice.amount),image:(0,i.sg)(e)[0]})}},e.id)})}),e.length>0&&(0,r.jsx)("div",{className:"text-center mt-gap-2xl",children:(0,r.jsx)(l.z,{asChild:!0,className:"btn-secondary",children:(0,r.jsx)(d(),{href:"/produkty",children:"Zobrazit všechny produkty"})})})]})})}},6158:function(e,t,n){"use strict";n.d(t,{Z:function(){return ProductCard}});var r=n(7437),a=n(1396),i=n.n(a),o=n(6691),s=n.n(o),c=n(5251),d=n(9598),l=n(3611),u=n(9135);function ProductCard(e){let{id:t,title:n,price:a,image:o,description:f,href:h,showButton:p=!0,buttonText:g="Zobrazit",variantId:m,onAddToCart:x}=e;return(0,r.jsx)(c.E.div,{variants:u.Ji,initial:"initial",animate:"animate",exit:"exit",children:(0,r.jsx)(i(),{href:h,children:(0,r.jsxs)(d.Zb,{className:"group cursor-pointer card-premium hover:shadow-medium transition-all duration-500 transform hover:scale-[1.02] overflow-hidden",children:[(0,r.jsxs)("div",{className:"aspect-square overflow-hidden rounded-t-2xl bg-surface-secondary relative",children:[(0,r.jsx)(s(),{src:o,alt:n,width:400,height:400,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",loading:"lazy"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),(0,r.jsxs)(d.aY,{className:"p-6 space-y-3",children:[(0,r.jsx)("h3",{className:"text-lg font-serif font-semibold text-text group-hover:text-accent transition-colors duration-300 truncate",children:n}),(0,r.jsx)("p",{className:"text-text-secondary text-sm line-clamp-2 leading-relaxed",children:f}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,r.jsx)("span",{className:"text-xl font-serif font-bold text-text",children:a}),(0,r.jsxs)("div",{className:"flex gap-2",children:[m&&x&&(0,r.jsx)(l.z,{variant:"outline",size:"sm",onClick:e=>{e.preventDefault(),e.stopPropagation(),x(m,1)},className:"opacity-0 group-hover:opacity-100 transition-all duration-500 border-accent/30 text-accent hover:text-white hover:bg-accent hover:border-accent transform translate-y-2 group-hover:translate-y-0",children:"Přidat do koš\xedku"}),p&&(0,r.jsx)(l.z,{variant:"outline",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-all duration-500 border-accent/30 text-accent hover:text-white hover:bg-accent hover:border-accent transform translate-y-2 group-hover:translate-y-0",children:g})]})]})]})]})})})}},3611:function(e,t,n){"use strict";n.d(t,{z:function(){return d}});var r=n(7437),a=n(2265),i=n(4949),o=n(6061),s=n(1628);let c=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:n,variant:a,size:o,asChild:d=!1,...l}=e,u=d?i.g7:"button";return(0,r.jsx)(u,{className:(0,s.cn)(c({variant:a,size:o,className:n})),ref:t,...l})});d.displayName="Button"},9598:function(e,t,n){"use strict";n.d(t,{Zb:function(){return o},aY:function(){return l}});var r=n(7437),a=n(2265),i=n(1628);let o=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...a})});o.displayName="Card";let s=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",n),...a})});s.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",n),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",n),...a})});d.displayName="CardDescription";let l=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",n),...a})});l.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",n),...a})});u.displayName="CardFooter"},5373:function(e,t,n){"use strict";n.r(t),n.d(t,{CartProvider:function(){return CartProvider},useCart:function(){return useCart}});var r=n(7437),a=n(2265);let i=(0,a.createContext)(void 0);function CartProvider(e){let{children:t}=e,[n,o]=(0,a.useState)([]),removeFromCart=e=>{o(t=>t.filter(t=>t.variantId!==e))};return(0,r.jsx)(i.Provider,{value:{items:n,addToCart:(e,t,n)=>{o(r=>{let a=r.find(t=>t.variantId===e);return a?r.map(n=>n.variantId===e?{...n,quantity:n.quantity+t}:n):[...r,{id:n.id,variantId:e,name:n.title,price:n.price,quantity:t,image:n.image}]})},updateQuantity:(e,t)=>{if(t<=0){removeFromCart(e);return}o(n=>n.map(n=>n.variantId===e?{...n,quantity:t}:n))},removeFromCart,clearCart:()=>{o([])},getTotalItems:()=>n.reduce((e,t)=>e+t.quantity,0),getTotalPrice:()=>n.reduce((e,t)=>e+t.price*t.quantity,0)},children:t})}function useCart(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},9135:function(e,t,n){"use strict";n.d(t,{Ji:function(){return r},LX:function(){return a}});let r={initial:{opacity:0},animate:{opacity:1,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,transition:{duration:.2,ease:"easeOut"}}},a={initial:{x:"100%"},animate:{x:0,transition:{type:"spring",damping:25,stiffness:200}},exit:{x:"100%",transition:{duration:.3,ease:"easeOut"}}}},755:function(e,t,n){"use strict";n.d(t,{$h:function(){return getProductByHandle},T4:function(){return formatPrice},Tv:function(){return getFirstImageUrl},Xp:function(){return getProducts},YS:function(){return getFirstVariant},dm:function(){return getCollectionProducts},sg:function(){return getAllImageUrls}});var r=n(2601);let a=r.env.NEXT_PUBLIC_SHOPIFY_STORE_DOMAIN||"fairy-bloom-cz.myshopify.com",i=r.env.SHOPIFY_STOREFRONT_ACCESS_TOKEN||"c02d60556e481207a1e9b194501dafe4",o="https://".concat(a,"/api/2024-01/graphql.json");async function shopifyRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json","X-Shopify-Storefront-Access-Token":i},body:JSON.stringify({query:e,variables:t})});if(!n.ok){let e=await n.text();throw console.error("Shopify API Error:",{status:n.status,statusText:n.statusText,body:e}),Error("Shopify API error: ".concat(n.status," ").concat(n.statusText))}let r=await n.json();if(r.errors)throw console.error("GraphQL errors:",r.errors),Error("GraphQL errors: ".concat(JSON.stringify(r.errors)));return r}catch(e){throw console.error("Shopify request failed:",e),e}}async function getProducts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1?arguments[1]:void 0;try{let n=await shopifyRequest("\n  query getProducts($first: Int!, $after: String) {\n    products(first: $first, after: $after) {\n      edges {\n        node {\n          id\n          title\n          handle\n          description\n          priceRange {\n            minVariantPrice {\n              amount\n              currencyCode\n            }\n          }\n          images(first: 5) {\n            edges {\n              node {\n                id\n                url\n                altText\n                width\n                height\n              }\n            }\n          }\n          variants(first: 1) {\n            edges {\n              node {\n                id\n                title\n                price {\n                  amount\n                  currencyCode\n                }\n              }\n            }\n          }\n        }\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        startCursor\n        endCursor\n      }\n    }\n  }\n",{first:e,after:t});return n.data.products}catch(e){throw console.error("Failed to fetch products:",e),e}}async function getProductByHandle(e){try{let t=await shopifyRequest("\n  query getProductByHandle($handle: String!) {\n    product(handle: $handle) {\n      id\n      title\n      handle\n      description\n      priceRange {\n        minVariantPrice {\n          amount\n          currencyCode\n        }\n      }\n      images(first: 10) {\n        edges {\n          node {\n            id\n            url\n            altText\n            width\n            height\n          }\n        }\n      }\n      variants(first: 10) {\n        edges {\n          node {\n            id\n            title\n            price {\n              amount\n              currencyCode\n            }\n            availableForSale\n          }\n        }\n      }\n    }\n  }\n",{handle:e});return t.data.product}catch(t){throw console.error('Failed to fetch product with handle "'.concat(e,'":'),t),t}}async function getCollectionProducts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2?arguments[2]:void 0;try{let r=await shopifyRequest("\n  query getCollectionProducts($handle: String!, $first: Int!, $after: String) {\n    collection(handle: $handle) {\n      id\n      title\n      products(first: $first, after: $after) {\n        edges {\n          node {\n            id\n            title\n            handle\n            description\n            priceRange {\n              minVariantPrice {\n                amount\n                currencyCode\n              }\n            }\n            images(first: 5) {\n              edges {\n                node {\n                  id\n                  url\n                  altText\n                  width\n                  height\n                }\n              }\n            }\n            variants(first: 1) {\n              edges {\n                node {\n                  id\n                  title\n                  price {\n                    amount\n                    currencyCode\n                  }\n                }\n              }\n            }\n          }\n        }\n        pageInfo {\n          hasNextPage\n          hasPreviousPage\n          startCursor\n          endCursor\n        }\n      }\n    }\n  }\n",{handle:e,first:t,after:n});return r.data.collection}catch(t){throw console.error('Failed to fetch collection products for "'.concat(e,'":'),t),t}}function formatPrice(e){return new Intl.NumberFormat("cs-CZ",{style:"currency",currency:e.currencyCode}).format(parseFloat(e.amount))}function getFirstImageUrl(e){var t;let n=null===(t=e.images.edges[0])||void 0===t?void 0:t.node;return(null==n?void 0:n.url)||"/placeholder.svg"}function getAllImageUrls(e){return e.images.edges.map(e=>e.node.url)}function getFirstVariant(e){var t;return(null===(t=e.variants.edges[0])||void 0===t?void 0:t.node)||null}},1628:function(e,t,n){"use strict";n.d(t,{cn:function(){return cn}});var r=n(7042),a=n(4769);function cn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.m6)((0,r.W)(t))}}},function(e){e.O(0,[873,971,472,744],function(){return e(e.s=4951)}),_N_E=e.O()}]);