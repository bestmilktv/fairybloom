(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2898:function(e,t,r){"use strict";r.d(t,{Z:function(){return createLucideIcon}});var n=r(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(e,t)=>{let r=(0,n.forwardRef)(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>(0,n.createElement)("svg",{ref:u,...a,width:s,height:s,stroke:r,strokeWidth:o?24*Number(i)/Number(s):i,className:["lucide",`lucide-${toKebabCase(e)}`,l].join(" "),...d},[...t.map(([e,t])=>(0,n.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r}},7799:function(e,t,r){Promise.resolve().then(r.t.bind(r,2853,23)),Promise.resolve().then(r.bind(r,5026)),Promise.resolve().then(r.bind(r,5373)),Promise.resolve().then(r.t.bind(r,5377,23))},5026:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Navbar}});var n=r(7437),a=r(2265),s=r(1396),i=r.n(s),o=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,o.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var c=r(3611),d=r(2601);function AccountIcon(e){let{className:t=""}=e;return(0,n.jsx)(c.z,{variant:"ghost",size:"icon",onClick:()=>{let e=d.env.NEXT_PUBLIC_SHOPIFY_STORE_DOMAIN||"fairy-bloom-cz.myshopify.com",t="https://".concat(e,"/account/login");window.open(t,"_blank")},className:"text-text-secondary hover:text-text hover:bg-surface/50 transition-all duration-300 rounded-xl ".concat(t),"aria-label":"Account",children:(0,n.jsx)(l,{className:"h-5 w-5"})})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,o.Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);function CartIcon(e){let{onClick:t,itemCount:r=0,className:a=""}=e;return(0,n.jsxs)(c.z,{variant:"ghost",size:"icon",onClick:t,className:"relative text-text-secondary hover:text-text hover:bg-surface/50 transition-all duration-300 rounded-xl ".concat(a),"aria-label":"Shopping Cart",children:[(0,n.jsx)(u,{className:"h-5 w-5"}),r>0&&(0,n.jsx)("span",{className:"absolute -top-1 -right-1 bg-accent text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium shadow-soft",children:r>99?"99+":r})]})}var h=r(6691),m=r.n(h),f=r(538);function useIsMounted(){let e=(0,a.useRef)(!1);return(0,f.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var x=r(2363);function useForceUpdate(){let e=useIsMounted(),[t,r]=(0,a.useState)(0),n=(0,a.useCallback)(()=>{e.current&&r(t+1)},[t]),s=(0,a.useCallback)(()=>x.Wi.postRender(n),[n]);return[s,t]}var p=r(8243),v=r(961);let PopChildMeasure=class PopChildMeasure extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}};function PopChild({children:e,isPresent:t}){let r=(0,a.useId)(),n=(0,a.useRef)(null),s=(0,a.useRef)({width:0,height:0,top:0,left:0});return(0,a.useInsertionEffect)(()=>{let{width:e,height:a,top:i,left:o}=s.current;if(t||!n.current||!e||!a)return;n.current.dataset.motionPopId=r;let l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${a}px !important;
            top: ${i}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[t]),a.createElement(PopChildMeasure,{isPresent:t,childRef:n,sizeRef:s},a.cloneElement(e,{ref:n}))}let PresenceChild=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{let l=(0,v.h)(newChildrenMap),c=(0,a.useId)(),d=(0,a.useMemo)(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:e=>{for(let t of(l.set(e,!0),l.values()))if(!t)return;n&&n()},register:e=>(l.set(e,!1),()=>l.delete(e))}),i?void 0:[r]);return(0,a.useMemo)(()=>{l.forEach((e,t)=>l.set(t,!1))},[r]),a.useEffect(()=>{r||l.size||!n||n()},[r]),"popLayout"===o&&(e=a.createElement(PopChild,{isPresent:r},e)),a.createElement(p.O.Provider,{value:d},e)};function newChildrenMap(){return new Map}var g=r(781);function useUnmountEffect(e){return(0,a.useEffect)(()=>()=>e(),[])}var y=r(6567);let getChildKey=e=>e.key||"";function updateChildLookup(e,t){e.forEach(e=>{let r=getChildKey(e);t.set(r,e)})}function onlyElements(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}let AnimatePresence=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{(0,y.k)(!s,"Replace exitBeforeEnter with mode='wait'");let l=(0,a.useContext)(g.p).forceRender||useForceUpdate()[0],c=useIsMounted(),d=onlyElements(e),u=d,h=(0,a.useRef)(new Map).current,m=(0,a.useRef)(u),x=(0,a.useRef)(new Map).current,p=(0,a.useRef)(!0);if((0,f.L)(()=>{p.current=!1,updateChildLookup(d,x),m.current=u}),useUnmountEffect(()=>{p.current=!0,x.clear(),h.clear()}),p.current)return a.createElement(a.Fragment,null,u.map(e=>a.createElement(PresenceChild,{key:getChildKey(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:i,mode:o},e)));u=[...u];let v=m.current.map(getChildKey),b=d.map(getChildKey),j=v.length;for(let e=0;e<j;e++){let t=v[e];-1!==b.indexOf(t)||h.has(t)||h.set(t,void 0)}return"wait"===o&&h.size&&(u=[]),h.forEach((e,r)=>{if(-1!==b.indexOf(r))return;let s=x.get(r);if(!s)return;let f=v.indexOf(r),p=e;p||(p=a.createElement(PresenceChild,{key:getChildKey(s),isPresent:!1,onExitComplete:()=>{h.delete(r);let e=Array.from(x.keys()).filter(e=>!b.includes(e));if(e.forEach(e=>x.delete(e)),m.current=d.filter(t=>{let n=getChildKey(t);return n===r||e.includes(n)}),!h.size){if(!1===c.current)return;l(),n&&n()}},custom:t,presenceAffectsLayout:i,mode:o},s),h.set(r,p)),u.splice(f,0,p)}),u=u.map(e=>{let t=e.key;return h.has(t)?e:a.createElement(PresenceChild,{key:getChildKey(e),isPresent:!0,presenceAffectsLayout:i,mode:o},e)}),a.createElement(a.Fragment,null,h.size?u:u.map(e=>(0,a.cloneElement)(e)))};var b=r(5251);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let j=(0,o.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),w=(0,o.Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),C=(0,o.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var N=r(9135);function CartSidebar(e){let{isOpen:t,onClose:r,items:s,onUpdateQuantity:i,onRemoveItem:o}=e,[l,d]=(0,a.useState)(!1),h=s.reduce((e,t)=>e+t.quantity,0),f=s.reduce((e,t)=>e+t.price*t.quantity,0),handleCheckout=async()=>{if(0!==s.length){d(!0);try{let e=s.map(e=>({variantId:e.variantId,quantity:e.quantity})),t=await fetch("/api/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:e})});if(!t.ok)throw Error("Failed to create checkout");let{url:r}=await t.json();window.location.href=r}catch(e){console.error("Checkout error:",e),alert("Failed to proceed to checkout. Please try again.")}finally{d(!1)}}},formatPrice=e=>new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK"}).format(e);return(0,n.jsx)(AnimatePresence,{children:t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/30 backdrop-blur-md z-40",onClick:r}),(0,n.jsxs)(b.E.div,{variants:N.LX,initial:"initial",animate:"animate",exit:"exit",className:"fixed right-0 top-0 h-full w-full max-w-[420px] bg-surface shadow-2xl z-50 flex flex-col rounded-l-2xl",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold text-text",children:"Your Cart"}),(0,n.jsx)(c.z,{variant:"ghost",size:"icon",onClick:r,className:"text-muted hover:text-text hover:bg-surface rounded-xl",children:(0,n.jsx)(j,{className:"h-5 w-5"})})]}),(0,n.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:0===s.length?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-6",children:[(0,n.jsx)("div",{className:"w-20 h-20 bg-muted/20 rounded-2xl flex items-center justify-center",children:(0,n.jsx)(u,{className:"h-10 w-10 text-muted"})}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("h3",{className:"text-xl font-medium text-text",children:"Your cart is empty"}),(0,n.jsx)("p",{className:"text-muted",children:"Add some beautiful jewelry to get started"})]}),(0,n.jsx)(c.z,{onClick:r,className:"bg-accent hover:bg-accent/90 text-white px-6 py-3 rounded-xl",children:"Continue Shopping"})]}):(0,n.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,n.jsx)("div",{className:"bg-bg rounded-2xl p-4 border border-border",children:(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-surface rounded-xl flex-shrink-0 overflow-hidden",children:e.image?(0,n.jsx)(m(),{src:e.image,alt:e.name,width:64,height:64,className:"w-full h-full object-cover"}):(0,n.jsx)("div",{className:"w-full h-full bg-muted/20 rounded-xl flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-muted text-xs",children:"No image"})})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0 space-y-1",children:[(0,n.jsx)("h3",{className:"text-sm font-medium text-text truncate",children:e.name}),(0,n.jsxs)("p",{className:"text-sm text-muted",children:[formatPrice(e.price)," each"]}),(0,n.jsx)("p",{className:"text-sm font-semibold text-text",children:formatPrice(e.price*e.quantity)})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(c.z,{variant:"ghost",size:"icon",onClick:()=>i(e.variantId,Math.max(0,e.quantity-1)),className:"h-8 w-8 text-muted hover:text-text hover:bg-surface rounded-lg",children:(0,n.jsx)(w,{className:"h-3 w-3"})}),(0,n.jsx)("span",{className:"text-sm font-medium text-text min-w-[20px] text-center",children:e.quantity}),(0,n.jsx)(c.z,{variant:"ghost",size:"icon",onClick:()=>i(e.variantId,e.quantity+1),className:"h-8 w-8 text-muted hover:text-text hover:bg-surface rounded-lg",children:(0,n.jsx)(C,{className:"h-3 w-3"})})]})]})},e.id))})}),s.length>0&&(0,n.jsxs)("div",{className:"border-t border-border p-6 space-y-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center text-xl font-semibold",children:[(0,n.jsxs)("span",{className:"text-text",children:["Total (",h," items)"]}),(0,n.jsx)("span",{className:"text-text",children:formatPrice(f)})]}),(0,n.jsx)(c.z,{onClick:handleCheckout,disabled:l,className:"w-full bg-accent hover:bg-accent/90 text-white h-14 text-lg font-medium rounded-2xl shadow-soft",children:l?"Processing...":"Proceed to Checkout"})]})]})]})})}var k=r(5373);function Navbar(){let[e,t]=(0,a.useState)(!1),{items:r,updateQuantity:s,removeFromCart:o,getTotalItems:l}=(0,k.useCart)(),c=l();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("nav",{className:"bg-surface/95 backdrop-blur-lg border-b border-accent/10 sticky top-0 z-50 transition-all duration-500",children:(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-gap-lg",children:(0,n.jsxs)("div",{className:"flex items-center justify-between h-20",children:[(0,n.jsxs)(i(),{href:"/",className:"flex items-center gap-3 group",children:[(0,n.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-accent to-accent-secondary rounded-xl flex items-center justify-center shadow-gold group-hover:shadow-strong transition-all duration-300 group-hover:scale-105",children:(0,n.jsx)("span",{className:"text-white font-bold text-lg",children:"FB"})}),(0,n.jsx)("span",{className:"text-2xl font-serif font-semibold text-text group-hover:text-accent transition-colors duration-300",children:"FAIRY BLOOM"})]}),(0,n.jsxs)("div",{className:"hidden lg:flex items-center gap-8",children:[(0,n.jsxs)(i(),{href:"/n\xe1hrdeln\xedky",className:"text-text-secondary hover:text-text font-medium transition-all duration-300 hover:scale-105 relative group",children:["N\xe1hrdeln\xedky",(0,n.jsx)("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-accent transition-all duration-300 group-hover:w-full"})]}),(0,n.jsxs)(i(),{href:"/n\xe1ušnice",className:"text-text-secondary hover:text-text font-medium transition-all duration-300 hover:scale-105 relative group",children:["N\xe1ušnice",(0,n.jsx)("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-accent transition-all duration-300 group-hover:w-full"})]}),(0,n.jsxs)(i(),{href:"/prsteny",className:"text-text-secondary hover:text-text font-medium transition-all duration-300 hover:scale-105 relative group",children:["Prsteny",(0,n.jsx)("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-accent transition-all duration-300 group-hover:w-full"})]}),(0,n.jsxs)(i(),{href:"/n\xe1ramky",className:"text-text-secondary hover:text-text font-medium transition-all duration-300 hover:scale-105 relative group",children:["N\xe1ramky",(0,n.jsx)("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-accent transition-all duration-300 group-hover:w-full"})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(AccountIcon,{}),(0,n.jsx)(CartIcon,{onClick:()=>t(!0),itemCount:c})]})]})})}),(0,n.jsx)(CartSidebar,{isOpen:e,onClose:()=>t(!1),items:r,onUpdateQuantity:(e,t)=>{s(e,t)},onRemoveItem:e=>{o(e)}})]})}},3611:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var n=r(7437),a=r(2265),s=r(4949),i=r(6061),o=r(1628);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:c=!1,...d}=e,u=c?s.g7:"button";return(0,n.jsx)(u,{className:(0,o.cn)(l({variant:a,size:i,className:r})),ref:t,...d})});c.displayName="Button"},5373:function(e,t,r){"use strict";r.r(t),r.d(t,{CartProvider:function(){return CartProvider},useCart:function(){return useCart}});var n=r(7437),a=r(2265);let s=(0,a.createContext)(void 0);function CartProvider(e){let{children:t}=e,[r,i]=(0,a.useState)([]),removeFromCart=e=>{i(t=>t.filter(t=>t.variantId!==e))};return(0,n.jsx)(s.Provider,{value:{items:r,addToCart:(e,t,r)=>{i(n=>{let a=n.find(t=>t.variantId===e);return a?n.map(r=>r.variantId===e?{...r,quantity:r.quantity+t}:r):[...n,{id:r.id,variantId:e,name:r.title,price:r.price,quantity:t,image:r.image}]})},updateQuantity:(e,t)=>{if(t<=0){removeFromCart(e);return}i(r=>r.map(r=>r.variantId===e?{...r,quantity:t}:r))},removeFromCart,clearCart:()=>{i([])},getTotalItems:()=>r.reduce((e,t)=>e+t.quantity,0),getTotalPrice:()=>r.reduce((e,t)=>e+t.price*t.quantity,0)},children:t})}function useCart(){let e=(0,a.useContext)(s);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},9135:function(e,t,r){"use strict";r.d(t,{Ji:function(){return n},LX:function(){return a}});let n={initial:{opacity:0},animate:{opacity:1,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,transition:{duration:.2,ease:"easeOut"}}},a={initial:{x:"100%"},animate:{x:0,transition:{type:"spring",damping:25,stiffness:200}},exit:{x:"100%",transition:{duration:.3,ease:"easeOut"}}}},1628:function(e,t,r){"use strict";r.d(t,{cn:function(){return cn}});var n=r(7042),a=r(4769);function cn(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}},2853:function(){},5377:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3",variable:"__variable_f367f3"}}},function(e){e.O(0,[873,971,472,744],function(){return e(e.s=7799)}),_N_E=e.O()}]);