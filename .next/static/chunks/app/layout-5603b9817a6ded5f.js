(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{1100:function(e,t,r){Promise.resolve().then(r.bind(r,4137)),Promise.resolve().then(r.t.bind(r,1371,23)),Promise.resolve().then(r.t.bind(r,2853,23))},4137:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Navbar}});var a=r(7437),s=r(2265),n=r(1396),i=r.n(n),c=r(7972),l=r(4949),o=r(6061),d=r(7042),x=r(4769);function cn(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,x.m6)((0,d.W)(t))}let m=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),h=s.forwardRef((e,t)=>{let{className:r,variant:s,size:n,asChild:i=!1,...c}=e,o=i?l.g7:"button";return(0,a.jsx)(o,{className:cn(m({variant:s,size:n,className:r})),ref:t,...c})});h.displayName="Button";var u=r(2601);function AccountIcon(e){let{className:t=""}=e;return(0,a.jsx)(h,{variant:"ghost",size:"icon",onClick:()=>{let e=u.env.NEXT_PUBLIC_SHOPIFY_STORE_DOMAIN||"fairy-bloom-cz.myshopify.com",t="https://".concat(e,"/account/login");window.open(t,"_blank")},className:"text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200 ".concat(t),"aria-label":"Account",children:(0,a.jsx)(c.Z,{className:"h-5 w-5"})})}var f=r(3505);function CartIcon(e){let{onClick:t,itemCount:r=0,className:s=""}=e;return(0,a.jsxs)(h,{variant:"ghost",size:"icon",onClick:t,className:"relative text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200 ".concat(s),"aria-label":"Shopping Cart",children:[(0,a.jsx)(f.Z,{className:"h-5 w-5"}),r>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:r})]})}var g=r(6691),y=r.n(g),p=r(2167),v=r(5251),j=r(2549),b=r(4891),N=r(9883);let w=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});w.displayName="Card";let k=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:cn("flex flex-col space-y-1.5 p-6",r),...s})});k.displayName="CardHeader";let C=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:cn("text-2xl font-semibold leading-none tracking-tight",r),...s})});C.displayName="CardTitle";let P=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:cn("text-sm text-muted-foreground",r),...s})});P.displayName="CardDescription";let I=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:cn("p-6 pt-0",r),...s})});I.displayName="CardContent";let z=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:cn("flex items-center p-6 pt-0",r),...s})});function CartSidebar(e){let{isOpen:t,onClose:r,items:n,onUpdateQuantity:i,onRemoveItem:c}=e,[l,o]=(0,s.useState)(!1),d=n.reduce((e,t)=>e+t.quantity,0),x=n.reduce((e,t)=>e+t.price*t.quantity,0),handleCheckout=async()=>{if(0!==n.length){o(!0);try{let e=n.map(e=>({variantId:e.variantId,quantity:e.quantity})),t=await fetch("/api/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:e})});if(!t.ok)throw Error("Failed to create checkout");let{url:r}=await t.json();window.location.href=r}catch(e){console.error("Checkout error:",e),alert("Failed to proceed to checkout. Please try again.")}finally{o(!1)}}},formatPrice=e=>new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK"}).format(e);return(0,a.jsx)(p.M,{children:t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40",onClick:r}),(0,a.jsxs)(v.E.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-2xl z-50 flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Your Cart"}),(0,a.jsx)(h,{variant:"ghost",size:"icon",onClick:r,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100",children:(0,a.jsx)(j.Z,{className:"h-5 w-5"})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:0===n.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,a.jsx)(f.Z,{className:"h-8 w-8 text-gray-400"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Your cart is empty"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Add some items to get started"})]}):(0,a.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,a.jsx)(w,{className:"border-gray-100",children:(0,a.jsx)(I,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex-shrink-0",children:e.image?(0,a.jsx)(y(),{src:e.image,alt:e.name,width:64,height:64,className:"w-full h-full object-cover rounded-lg"}):(0,a.jsx)("div",{className:"w-full h-full bg-gray-200 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-gray-400 text-xs",children:"No image"})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:formatPrice(e.price)})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(h,{variant:"ghost",size:"icon",onClick:()=>i(e.id,Math.max(0,e.quantity-1)),className:"h-8 w-8 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(b.Z,{className:"h-3 w-3"})}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900 min-w-[20px] text-center",children:e.quantity}),(0,a.jsx)(h,{variant:"ghost",size:"icon",onClick:()=>i(e.id,e.quantity+1),className:"h-8 w-8 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(N.Z,{className:"h-3 w-3"})})]})]})})},e.id))})}),n.length>0&&(0,a.jsxs)("div",{className:"border-t border-gray-100 p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center text-lg font-semibold",children:[(0,a.jsxs)("span",{children:["Total (",d," items)"]}),(0,a.jsx)("span",{children:formatPrice(x)})]}),(0,a.jsx)(h,{onClick:handleCheckout,disabled:l,className:"w-full bg-black hover:bg-gray-800 text-white h-12 text-base font-medium",children:l?"Processing...":"Checkout"})]})]})]})})}function Navbar(){let[e,t]=(0,s.useState)(!1),[r,n]=(0,s.useState)([{id:"1",variantId:"gid://shopify/ProductVariant/123456789",name:"Růžov\xe9 okvět\xed n\xe1hrdeln\xedk",price:2890,quantity:1,image:"/placeholder-necklace.jpg"},{id:"2",variantId:"gid://shopify/ProductVariant/987654321",name:"Pomněnkov\xe9 kapky n\xe1ušnice",price:1890,quantity:2,image:"/placeholder-earrings.jpg"}]),c=r.reduce((e,t)=>e+t.quantity,0);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("nav",{className:"bg-white border-b border-gray-100 sticky top-0 z-30",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsxs)(i(),{href:"/",className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-900 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold text-sm",children:"FB"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-900",children:"Fairy Bloom"})]}),(0,a.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[(0,a.jsx)(i(),{href:"/n\xe1hrdeln\xedky",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"N\xe1hrdeln\xedky"}),(0,a.jsx)(i(),{href:"/n\xe1ušnice",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"N\xe1ušnice"}),(0,a.jsx)(i(),{href:"/prsteny",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Prsteny"}),(0,a.jsx)(i(),{href:"/n\xe1ramky",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"N\xe1ramky"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(AccountIcon,{}),(0,a.jsx)(CartIcon,{onClick:()=>t(!0),itemCount:c})]})]})})}),(0,a.jsx)(CartSidebar,{isOpen:e,onClose:()=>t(!1),items:r,onUpdateQuantity:(e,t)=>{t<=0?n(t=>t.filter(t=>t.id!==e)):n(r=>r.map(r=>r.id===e?{...r,quantity:t}:r))},onRemoveItem:e=>{n(t=>t.filter(t=>t.id!==e))}})]})}z.displayName="CardFooter"},2853:function(){}},function(e){e.O(0,[375,253,971,472,744],function(){return e(e.s=1100)}),_N_E=e.O()}]);